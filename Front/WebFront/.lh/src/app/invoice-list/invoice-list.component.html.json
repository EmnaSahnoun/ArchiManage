{
    "sourceFile": "src/app/invoice-list/invoice-list.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1747603575907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747603664043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,80 @@\n-<!-- invoice-list.component.html -->\r\n-<h2>Invoices</h2>\r\n-<button (click)=\"navigateToCreateInvoice()\">Create New Invoice</button>\r\n+<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n+<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n+  <div class=\"invoice-header\">\r\n+    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n+    <div class=\"invoice-actions\">\r\n+      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n+      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n+      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n+      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n+    </div>\r\n+  </div>\r\n \r\n-<table>\r\n-  <thead>\r\n-    <tr>\r\n-      <th>Document #</th>\r\n-      <th>Company</th>\r\n-      <th>Created At</th>\r\n-      <th>Total</th>\r\n-      <th>Status</th>\r\n-      <th>Actions</th>\r\n-    </tr>\r\n-  </thead>\r\n-  <tbody>\r\n-    <tr *ngFor=\"let invoice of invoices\">\r\n-      <td>{{ invoice.documentNumber }}</td>\r\n-      <td>{{ invoice.company?.name }}</td>\r\n-      <td>{{ invoice.createdAt | date:'short' }}</td> <!-- Use DatePipe -->\r\n-      <td>{{ invoice.totalAmount | currency:'EUR' }}</td> <!-- Use CurrencyPipe -->\r\n-      <td>{{ invoice.status }}</td>\r\n-      <td>\r\n-        <button (click)=\"viewInvoice(invoice.id)\">View</button>\r\n-        <button (click)=\"editInvoice(invoice.id)\">Edit</button>\r\n-        <button (click)=\"confirmDelete(invoice.id)\">Delete</button>\r\n-        <button (click)=\"printInvoice(invoice.id)\">Print</button>\r\n-      </td>\r\n-    </tr>\r\n-  </tbody>\r\n-</table>\r\n-<p *ngIf=\"!invoices || invoices.length === 0\">No invoices found.</p>\r\n+  <div class=\"invoice-meta\">\r\n+    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-lines\">\r\n+    <h2>Détails de la facture</h2>\r\n+    <table>\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Description</th>\r\n+          <th>Quantité</th>\r\n+          <th>Prix Unitaire</th>\r\n+          <th>Total</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let line of invoice.lines\">\r\n+          <td>{{ line.description }}</td>\r\n+          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-summary\">\r\n+    <div class=\"summary-item\">\r\n+      <span>Sous-total:</span>\r\n+      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+      <span>Remise:</span>\r\n+      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+      <span>Taxe ({{ /* Vous pourriez vouloir afficher le taux ici */ }}):</span>\r\n+      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item total\">\r\n+      <span>Total Général:</span>\r\n+      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+    <h3>Notes:</h3>\r\n+    <p>{{ invoice.notes }}</p>\r\n+  </div>\r\n+</div>\r\n+\r\n+<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+  Chargement de la facture...\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+  <p>{{ errorMessage }}</p>\r\n+  <button (click)=\"goBack()\">Retour</button>\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+</div>\r\n"
                },
                {
                    "date": 1747603699011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n       <span>Remise:</span>\r\n       <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n     </div>\r\n     <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe ({{ /* Vous pourriez vouloir afficher le taux ici */ }}):</span>\r\n+      <span>Taxe ({{ }}):</span>\r\n       <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n     </div>\r\n     <div class=\"summary-item total\">\r\n       <span>Total Général:</span>\r\n"
                },
                {
                    "date": 1747604617702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,80 +1,146 @@\n-<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n-<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n-  <div class=\"invoice-header\">\r\n-    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n-    <div class=\"invoice-actions\">\r\n-      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n-      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n-      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n-      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-meta\">\r\n-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-lines\">\r\n-    <h2>Détails de la facture</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Description</th>\r\n-          <th>Quantité</th>\r\n-          <th>Prix Unitaire</th>\r\n-          <th>Total</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr *ngFor=\"let line of invoice.lines\">\r\n-          <td>{{ line.description }}</td>\r\n-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-summary\">\r\n-    <div class=\"summary-item\">\r\n-      <span>Sous-total:</span>\r\n-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n-      <span>Remise:</span>\r\n-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe ({{ }}):</span>\r\n-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item total\">\r\n-      <span>Total Général:</span>\r\n-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n-    <h3>Notes:</h3>\r\n-    <p>{{ invoice.notes }}</p>\r\n-  </div>\r\n-</div>\r\n-\r\n-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-  Chargement de la facture...\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n-  <p>{{ errorMessage }}</p>\r\n-  <button (click)=\"goBack()\">Retour</button>\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n-</div>\r\n+--- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n++++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n+@@ -1,69 +1,70 @@\r\n+-<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n+-<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n+-  <div class=\"invoice-header\">\r\n+-    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n+-    <div class=\"invoice-actions\">\r\n+-      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n+-      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n+-      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n+-      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n++<!-- d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html -->\r\n++<div class=\"invoice-list-container\">\r\n++  <div class=\"page-header\">\r\n++    <h1>Liste des Factures</h1>\r\n++    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n++      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n++    </button>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n++    Chargement des factures...\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n++    <p>{{ errorMessage }}</p>\r\n++    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n++    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n++    <table class=\"table table-striped table-hover\">\r\n++      <thead>\r\n++        <tr>\r\n++          <th>Numéro</th>\r\n++          <th>Client</th>\r\n++          <th>Date de Création</th>\r\n++          <th>Montant Total</th>\r\n++          <th>Statut</th>\r\n++          <th>Actions</th>\r\n++        </tr>\r\n++      </thead>\r\n++      <tbody>\r\n++        <tr *ngFor=\"let invoice of invoices\">\r\n++          <td>{{ invoice.documentNumber }}</td>\r\n++          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n++          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n++          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n++          <td>\r\n++            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n++              {{ invoice.status }}\r\n++            </span>\r\n++          </td>\r\n++          <td>\r\n++            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n++              <i class=\"bi bi-eye\"></i>\r\n++            </button>\r\n++            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n++              <i class=\"bi bi-pencil-square\"></i>\r\n++            </button>\r\n++            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n++              <i class=\"bi bi-trash\"></i>\r\n++            </button>\r\n++            <!-- Add print button if needed here or on detail page -->\r\n++            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n++              <i class=\"bi bi-printer\"></i>\r\n++            </button> -->\r\n++          </td>\r\n++        </tr>\r\n++      </tbody>\r\n++    </table>\r\n++    <!-- Add pagination controls here if you have many invoices -->\r\n+   </div>\r\n+-\r\n+-  <div class=\"invoice-meta\">\r\n+-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-lines\">\r\n+-    <h2>Détails de la facture</h2>\r\n+-    <table>\r\n+-      <thead>\r\n+-        <tr>\r\n+-          <th>Description</th>\r\n+-          <th>Quantité</th>\r\n+-          <th>Prix Unitaire</th>\r\n+-          <th>Total</th>\r\n+-        </tr>\r\n+-      </thead>\r\n+-      <tbody>\r\n+-        <tr *ngFor=\"let line of invoice.lines\">\r\n+-          <td>{{ line.description }}</td>\r\n+-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+-        </tr>\r\n+-      </tbody>\r\n+-    </table>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-summary\">\r\n+-    <div class=\"summary-item\">\r\n+-      <span>Sous-total:</span>\r\n+-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+-      <span>Remise:</span>\r\n+-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+-      <span>Taxe :</span>\r\n+-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item total\">\r\n+-      <span>Total Général:</span>\r\n+-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+-    </div>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+-    <h3>Notes:</h3>\r\n+-    <p>{{ invoice.notes }}</p>\r\n+-  </div>\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+-  Chargement de la facture...\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+-  <p>{{ errorMessage }}</p>\r\n+-  <button (click)=\"goBack()\">Retour</button>\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+ </div>\r\n"
                },
                {
                    "date": 1747604658606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,146 +1,134 @@\n---- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n-+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n-@@ -1,69 +1,70 @@\r\n--<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n--<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n--  <div class=\"invoice-header\">\r\n--    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n--    <div class=\"invoice-actions\">\r\n--      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n--      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n--      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n--      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n-+<!-- d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html -->\r\n-+<div class=\"invoice-list-container\">\r\n-+  <div class=\"page-header\">\r\n-+    <h1>Liste des Factures</h1>\r\n-+    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n-+      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n-+    </button>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-+    Chargement des factures...\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n-+    <p>{{ errorMessage }}</p>\r\n-+    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n-+    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n-+    <table class=\"table table-striped table-hover\">\r\n-+      <thead>\r\n-+        <tr>\r\n-+          <th>Numéro</th>\r\n-+          <th>Client</th>\r\n-+          <th>Date de Création</th>\r\n-+          <th>Montant Total</th>\r\n-+          <th>Statut</th>\r\n-+          <th>Actions</th>\r\n-+        </tr>\r\n-+      </thead>\r\n-+      <tbody>\r\n-+        <tr *ngFor=\"let invoice of invoices\">\r\n-+          <td>{{ invoice.documentNumber }}</td>\r\n-+          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n-+          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n-+          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n-+          <td>\r\n-+            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-+              {{ invoice.status }}\r\n-+            </span>\r\n-+          </td>\r\n-+          <td>\r\n-+            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n-+              <i class=\"bi bi-eye\"></i>\r\n-+            </button>\r\n-+            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n-+              <i class=\"bi bi-pencil-square\"></i>\r\n-+            </button>\r\n-+            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n-+              <i class=\"bi bi-trash\"></i>\r\n-+            </button>\r\n-+            <!-- Add print button if needed here or on detail page -->\r\n-+            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n-+              <i class=\"bi bi-printer\"></i>\r\n-+            </button> -->\r\n-+          </td>\r\n-+        </tr>\r\n-+      </tbody>\r\n-+    </table>\r\n-+    <!-- Add pagination controls here if you have many invoices -->\r\n-   </div>\r\n--\r\n--  <div class=\"invoice-meta\">\r\n--    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n--    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n--    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n--    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n--    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n--    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-lines\">\r\n--    <h2>Détails de la facture</h2>\r\n--    <table>\r\n--      <thead>\r\n--        <tr>\r\n--          <th>Description</th>\r\n--          <th>Quantité</th>\r\n--          <th>Prix Unitaire</th>\r\n--          <th>Total</th>\r\n--        </tr>\r\n--      </thead>\r\n--      <tbody>\r\n--        <tr *ngFor=\"let line of invoice.lines\">\r\n--          <td>{{ line.description }}</td>\r\n--          <td class=\"text-right\">{{ line.quantity }}</td>\r\n--          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n--          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n--        </tr>\r\n--      </tbody>\r\n--    </table>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-summary\">\r\n--    <div class=\"summary-item\">\r\n--      <span>Sous-total:</span>\r\n--      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n--      <span>Remise:</span>\r\n--      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n--      <span>Taxe :</span>\r\n--      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item total\">\r\n--      <span>Total Général:</span>\r\n--      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n--    </div>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n--    <h3>Notes:</h3>\r\n--    <p>{{ invoice.notes }}</p>\r\n--  </div>\r\n--</div>\r\n--\r\n--<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n--  Chargement de la facture...\r\n--</div>\r\n--\r\n--<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n--  <p>{{ errorMessage }}</p>\r\n--  <button (click)=\"goBack()\">Retour</button>\r\n--</div>\r\n--\r\n--<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n--  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n- </div>\r\n+<div class=\"invoice-list-container\">\r\n+  <div class=\"page-header\">\r\n+    <h1>Liste des Factures</h1>\r\n+    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n+      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n+    </button>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+    Chargement des factures...\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n+    <p>{{ errorMessage }}</p>\r\n+    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n+    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n+    <table class=\"table table-striped table-hover\">\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Numéro</th>\r\n+          <th>Client</th>\r\n+          <th>Date de Création</th>\r\n+          <th>Montant Total</th>\r\n+          <th>Statut</th>\r\n+          <th>Actions</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let invoice of invoices\">\r\n+          <td>{{ invoice.documentNumber }}</td>\r\n+          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n+          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n+          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n+          <td>\r\n+            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n+              {{ invoice.status }}\r\n+            </span>\r\n+          </td>\r\n+          <td>\r\n+            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n+              <i class=\"bi bi-eye\"></i>\r\n+            </button>\r\n+            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n+              <i class=\"bi bi-pencil-square\"></i>\r\n+            </button>\r\n+            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n+              <i class=\"bi bi-trash\"></i>\r\n+            </button>\r\n+            <!-- Add print button if needed here or on detail page -->\r\n+            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n+              <i class=\"bi bi-printer\"></i>\r\n+            </button> -->\r\n+          </td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+    <!-- Add pagination controls here if you have many invoices -->\r\n+</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-meta\">\r\n+    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-lines\">\r\n+    <h2>Détails de la facture</h2>\r\n+    <table>\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Description</th>\r\n+          <th>Quantité</th>\r\n+          <th>Prix Unitaire</th>\r\n+          <th>Total</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let line of invoice.lines\">\r\n+          <td>{{ line.description }}</td>\r\n+          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-summary\">\r\n+    <div class=\"summary-item\">\r\n+      <span>Sous-total:</span>\r\n+      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+      <span>Remise:</span>\r\n+      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+      <span>Taxe :</span>\r\n+      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item total\">\r\n+      <span>Total Général:</span>\r\n+      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+    <h3>Notes:</h3>\r\n+    <p>{{ invoice.notes }}</p>\r\n+  </div>\r\n+</div>\r\n+\r\n+<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+  Chargement de la facture...\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+  <p>{{ errorMessage }}</p>\r\n+  <button (click)=\"goBack()\">Retour</button>\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+</div>\r\n"
                },
                {
                    "date": 1747604683394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,72 +63,5 @@\n     <!-- Add pagination controls here if you have many invoices -->\r\n </div>\r\n   </div>\r\n \r\n-  <div class=\"invoice-meta\">\r\n-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n   </div>\r\n-\r\n-  <div class=\"invoice-lines\">\r\n-    <h2>Détails de la facture</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Description</th>\r\n-          <th>Quantité</th>\r\n-          <th>Prix Unitaire</th>\r\n-          <th>Total</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr *ngFor=\"let line of invoice.lines\">\r\n-          <td>{{ line.description }}</td>\r\n-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-summary\">\r\n-    <div class=\"summary-item\">\r\n-      <span>Sous-total:</span>\r\n-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n-      <span>Remise:</span>\r\n-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe :</span>\r\n-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item total\">\r\n-      <span>Total Général:</span>\r\n-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n-    <h3>Notes:</h3>\r\n-    <p>{{ invoice.notes }}</p>\r\n-  </div>\r\n-</div>\r\n-\r\n-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-  Chargement de la facture...\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n-  <p>{{ errorMessage }}</p>\r\n-  <button (click)=\"goBack()\">Retour</button>\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n-</div>\r\n"
                },
                {
                    "date": 1747604690416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,8 @@\n           </td>\r\n         </tr>\r\n       </tbody>\r\n     </table>\r\n-    <!-- Add pagination controls here if you have many invoices -->\r\n+    \r\n </div>\r\n   </div>\r\n \r\n-  </div>\r\n"
                }
            ],
            "date": 1747603575907,
            "name": "Commit-0",
            "content": "<!-- invoice-list.component.html -->\r\n<h2>Invoices</h2>\r\n<button (click)=\"navigateToCreateInvoice()\">Create New Invoice</button>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>Document #</th>\r\n      <th>Company</th>\r\n      <th>Created At</th>\r\n      <th>Total</th>\r\n      <th>Status</th>\r\n      <th>Actions</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let invoice of invoices\">\r\n      <td>{{ invoice.documentNumber }}</td>\r\n      <td>{{ invoice.company?.name }}</td>\r\n      <td>{{ invoice.createdAt | date:'short' }}</td> <!-- Use DatePipe -->\r\n      <td>{{ invoice.totalAmount | currency:'EUR' }}</td> <!-- Use CurrencyPipe -->\r\n      <td>{{ invoice.status }}</td>\r\n      <td>\r\n        <button (click)=\"viewInvoice(invoice.id)\">View</button>\r\n        <button (click)=\"editInvoice(invoice.id)\">Edit</button>\r\n        <button (click)=\"confirmDelete(invoice.id)\">Delete</button>\r\n        <button (click)=\"printInvoice(invoice.id)\">Print</button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<p *ngIf=\"!invoices || invoices.length === 0\">No invoices found.</p>\r\n"
        }
    ]
}