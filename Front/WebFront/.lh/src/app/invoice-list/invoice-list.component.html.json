{
    "sourceFile": "src/app/invoice-list/invoice-list.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1747603575907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747603664043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,80 @@\n-<!-- invoice-list.component.html -->\r\n-<h2>Invoices</h2>\r\n-<button (click)=\"navigateToCreateInvoice()\">Create New Invoice</button>\r\n+<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n+<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n+  <div class=\"invoice-header\">\r\n+    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n+    <div class=\"invoice-actions\">\r\n+      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n+      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n+      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n+      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n+    </div>\r\n+  </div>\r\n \r\n-<table>\r\n-  <thead>\r\n-    <tr>\r\n-      <th>Document #</th>\r\n-      <th>Company</th>\r\n-      <th>Created At</th>\r\n-      <th>Total</th>\r\n-      <th>Status</th>\r\n-      <th>Actions</th>\r\n-    </tr>\r\n-  </thead>\r\n-  <tbody>\r\n-    <tr *ngFor=\"let invoice of invoices\">\r\n-      <td>{{ invoice.documentNumber }}</td>\r\n-      <td>{{ invoice.company?.name }}</td>\r\n-      <td>{{ invoice.createdAt | date:'short' }}</td> <!-- Use DatePipe -->\r\n-      <td>{{ invoice.totalAmount | currency:'EUR' }}</td> <!-- Use CurrencyPipe -->\r\n-      <td>{{ invoice.status }}</td>\r\n-      <td>\r\n-        <button (click)=\"viewInvoice(invoice.id)\">View</button>\r\n-        <button (click)=\"editInvoice(invoice.id)\">Edit</button>\r\n-        <button (click)=\"confirmDelete(invoice.id)\">Delete</button>\r\n-        <button (click)=\"printInvoice(invoice.id)\">Print</button>\r\n-      </td>\r\n-    </tr>\r\n-  </tbody>\r\n-</table>\r\n-<p *ngIf=\"!invoices || invoices.length === 0\">No invoices found.</p>\r\n+  <div class=\"invoice-meta\">\r\n+    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-lines\">\r\n+    <h2>Détails de la facture</h2>\r\n+    <table>\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Description</th>\r\n+          <th>Quantité</th>\r\n+          <th>Prix Unitaire</th>\r\n+          <th>Total</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let line of invoice.lines\">\r\n+          <td>{{ line.description }}</td>\r\n+          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-summary\">\r\n+    <div class=\"summary-item\">\r\n+      <span>Sous-total:</span>\r\n+      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+      <span>Remise:</span>\r\n+      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+      <span>Taxe ({{ /* Vous pourriez vouloir afficher le taux ici */ }}):</span>\r\n+      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item total\">\r\n+      <span>Total Général:</span>\r\n+      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+    <h3>Notes:</h3>\r\n+    <p>{{ invoice.notes }}</p>\r\n+  </div>\r\n+</div>\r\n+\r\n+<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+  Chargement de la facture...\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+  <p>{{ errorMessage }}</p>\r\n+  <button (click)=\"goBack()\">Retour</button>\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+</div>\r\n"
                },
                {
                    "date": 1747603699011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,9 +50,9 @@\n       <span>Remise:</span>\r\n       <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n     </div>\r\n     <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe ({{ /* Vous pourriez vouloir afficher le taux ici */ }}):</span>\r\n+      <span>Taxe ({{ }}):</span>\r\n       <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n     </div>\r\n     <div class=\"summary-item total\">\r\n       <span>Total Général:</span>\r\n"
                },
                {
                    "date": 1747604617702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,80 +1,146 @@\n-<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n-<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n-  <div class=\"invoice-header\">\r\n-    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n-    <div class=\"invoice-actions\">\r\n-      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n-      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n-      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n-      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-meta\">\r\n-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-lines\">\r\n-    <h2>Détails de la facture</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Description</th>\r\n-          <th>Quantité</th>\r\n-          <th>Prix Unitaire</th>\r\n-          <th>Total</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr *ngFor=\"let line of invoice.lines\">\r\n-          <td>{{ line.description }}</td>\r\n-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-summary\">\r\n-    <div class=\"summary-item\">\r\n-      <span>Sous-total:</span>\r\n-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n-      <span>Remise:</span>\r\n-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe ({{ }}):</span>\r\n-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item total\">\r\n-      <span>Total Général:</span>\r\n-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n-    <h3>Notes:</h3>\r\n-    <p>{{ invoice.notes }}</p>\r\n-  </div>\r\n-</div>\r\n-\r\n-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-  Chargement de la facture...\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n-  <p>{{ errorMessage }}</p>\r\n-  <button (click)=\"goBack()\">Retour</button>\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n-</div>\r\n+--- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n++++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n+@@ -1,69 +1,70 @@\r\n+-<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n+-<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n+-  <div class=\"invoice-header\">\r\n+-    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n+-    <div class=\"invoice-actions\">\r\n+-      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n+-      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n+-      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n+-      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n++<!-- d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html -->\r\n++<div class=\"invoice-list-container\">\r\n++  <div class=\"page-header\">\r\n++    <h1>Liste des Factures</h1>\r\n++    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n++      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n++    </button>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n++    Chargement des factures...\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n++    <p>{{ errorMessage }}</p>\r\n++    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n++    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n++  </div>\r\n++\r\n++  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n++    <table class=\"table table-striped table-hover\">\r\n++      <thead>\r\n++        <tr>\r\n++          <th>Numéro</th>\r\n++          <th>Client</th>\r\n++          <th>Date de Création</th>\r\n++          <th>Montant Total</th>\r\n++          <th>Statut</th>\r\n++          <th>Actions</th>\r\n++        </tr>\r\n++      </thead>\r\n++      <tbody>\r\n++        <tr *ngFor=\"let invoice of invoices\">\r\n++          <td>{{ invoice.documentNumber }}</td>\r\n++          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n++          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n++          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n++          <td>\r\n++            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n++              {{ invoice.status }}\r\n++            </span>\r\n++          </td>\r\n++          <td>\r\n++            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n++              <i class=\"bi bi-eye\"></i>\r\n++            </button>\r\n++            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n++              <i class=\"bi bi-pencil-square\"></i>\r\n++            </button>\r\n++            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n++              <i class=\"bi bi-trash\"></i>\r\n++            </button>\r\n++            <!-- Add print button if needed here or on detail page -->\r\n++            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n++              <i class=\"bi bi-printer\"></i>\r\n++            </button> -->\r\n++          </td>\r\n++        </tr>\r\n++      </tbody>\r\n++    </table>\r\n++    <!-- Add pagination controls here if you have many invoices -->\r\n+   </div>\r\n+-\r\n+-  <div class=\"invoice-meta\">\r\n+-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-lines\">\r\n+-    <h2>Détails de la facture</h2>\r\n+-    <table>\r\n+-      <thead>\r\n+-        <tr>\r\n+-          <th>Description</th>\r\n+-          <th>Quantité</th>\r\n+-          <th>Prix Unitaire</th>\r\n+-          <th>Total</th>\r\n+-        </tr>\r\n+-      </thead>\r\n+-      <tbody>\r\n+-        <tr *ngFor=\"let line of invoice.lines\">\r\n+-          <td>{{ line.description }}</td>\r\n+-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+-        </tr>\r\n+-      </tbody>\r\n+-    </table>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-summary\">\r\n+-    <div class=\"summary-item\">\r\n+-      <span>Sous-total:</span>\r\n+-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+-      <span>Remise:</span>\r\n+-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+-      <span>Taxe :</span>\r\n+-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+-    </div>\r\n+-    <div class=\"summary-item total\">\r\n+-      <span>Total Général:</span>\r\n+-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+-    </div>\r\n+-  </div>\r\n+-\r\n+-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+-    <h3>Notes:</h3>\r\n+-    <p>{{ invoice.notes }}</p>\r\n+-  </div>\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+-  Chargement de la facture...\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+-  <p>{{ errorMessage }}</p>\r\n+-  <button (click)=\"goBack()\">Retour</button>\r\n+-</div>\r\n+-\r\n+-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+ </div>\r\n"
                },
                {
                    "date": 1747604658606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,146 +1,134 @@\n---- a/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n-+++ b/d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html\r\n-@@ -1,69 +1,70 @@\r\n--<!-- src/app/invoices/invoice-detail/invoice-detail.component.html -->\r\n--<div class=\"invoice-container\" *ngIf=\"!isLoading && invoice\">\r\n--  <div class=\"invoice-header\">\r\n--    <h1>Facture {{ invoice.documentNumber }}</h1>\r\n--    <div class=\"invoice-actions\">\r\n--      <button (click)=\"goBack()\" class=\"action-btn\">Retour</button>\r\n--      <button (click)=\"printInvoice()\" class=\"action-btn primary\"><i class=\"fas fa-print\"></i> Imprimer</button>\r\n--      <button (click)=\"editInvoice()\" class=\"action-btn\"><i class=\"fas fa-edit\"></i> Modifier</button>\r\n--      <button (click)=\"deleteInvoice()\" class=\"action-btn danger\"><i class=\"fas fa-trash\"></i> Supprimer</button>\r\n-+<!-- d:\\satge pfe\\application\\ArchiManage\\Front\\WebFront\\src\\app\\invoice-list\\invoice-list.component.html -->\r\n-+<div class=\"invoice-list-container\">\r\n-+  <div class=\"page-header\">\r\n-+    <h1>Liste des Factures</h1>\r\n-+    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n-+      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n-+    </button>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-+    Chargement des factures...\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n-+    <p>{{ errorMessage }}</p>\r\n-+    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n-+    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n-+  </div>\r\n-+\r\n-+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n-+    <table class=\"table table-striped table-hover\">\r\n-+      <thead>\r\n-+        <tr>\r\n-+          <th>Numéro</th>\r\n-+          <th>Client</th>\r\n-+          <th>Date de Création</th>\r\n-+          <th>Montant Total</th>\r\n-+          <th>Statut</th>\r\n-+          <th>Actions</th>\r\n-+        </tr>\r\n-+      </thead>\r\n-+      <tbody>\r\n-+        <tr *ngFor=\"let invoice of invoices\">\r\n-+          <td>{{ invoice.documentNumber }}</td>\r\n-+          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n-+          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n-+          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n-+          <td>\r\n-+            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-+              {{ invoice.status }}\r\n-+            </span>\r\n-+          </td>\r\n-+          <td>\r\n-+            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n-+              <i class=\"bi bi-eye\"></i>\r\n-+            </button>\r\n-+            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n-+              <i class=\"bi bi-pencil-square\"></i>\r\n-+            </button>\r\n-+            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n-+              <i class=\"bi bi-trash\"></i>\r\n-+            </button>\r\n-+            <!-- Add print button if needed here or on detail page -->\r\n-+            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n-+              <i class=\"bi bi-printer\"></i>\r\n-+            </button> -->\r\n-+          </td>\r\n-+        </tr>\r\n-+      </tbody>\r\n-+    </table>\r\n-+    <!-- Add pagination controls here if you have many invoices -->\r\n-   </div>\r\n--\r\n--  <div class=\"invoice-meta\">\r\n--    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n--    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n--    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n--    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n--    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n--    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-lines\">\r\n--    <h2>Détails de la facture</h2>\r\n--    <table>\r\n--      <thead>\r\n--        <tr>\r\n--          <th>Description</th>\r\n--          <th>Quantité</th>\r\n--          <th>Prix Unitaire</th>\r\n--          <th>Total</th>\r\n--        </tr>\r\n--      </thead>\r\n--      <tbody>\r\n--        <tr *ngFor=\"let line of invoice.lines\">\r\n--          <td>{{ line.description }}</td>\r\n--          <td class=\"text-right\">{{ line.quantity }}</td>\r\n--          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n--          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n--        </tr>\r\n--      </tbody>\r\n--    </table>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-summary\">\r\n--    <div class=\"summary-item\">\r\n--      <span>Sous-total:</span>\r\n--      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n--      <span>Remise:</span>\r\n--      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n--      <span>Taxe :</span>\r\n--      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n--    </div>\r\n--    <div class=\"summary-item total\">\r\n--      <span>Total Général:</span>\r\n--      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n--    </div>\r\n--  </div>\r\n--\r\n--  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n--    <h3>Notes:</h3>\r\n--    <p>{{ invoice.notes }}</p>\r\n--  </div>\r\n--</div>\r\n--\r\n--<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n--  Chargement de la facture...\r\n--</div>\r\n--\r\n--<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n--  <p>{{ errorMessage }}</p>\r\n--  <button (click)=\"goBack()\">Retour</button>\r\n--</div>\r\n--\r\n--<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n--  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n- </div>\r\n+<div class=\"invoice-list-container\">\r\n+  <div class=\"page-header\">\r\n+    <h1>Liste des Factures</h1>\r\n+    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n+      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n+    </button>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+    Chargement des factures...\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n+    <p>{{ errorMessage }}</p>\r\n+    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n+    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n+  </div>\r\n+\r\n+  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n+    <table class=\"table table-striped table-hover\">\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Numéro</th>\r\n+          <th>Client</th>\r\n+          <th>Date de Création</th>\r\n+          <th>Montant Total</th>\r\n+          <th>Statut</th>\r\n+          <th>Actions</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let invoice of invoices\">\r\n+          <td>{{ invoice.documentNumber }}</td>\r\n+          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n+          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n+          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n+          <td>\r\n+            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n+              {{ invoice.status }}\r\n+            </span>\r\n+          </td>\r\n+          <td>\r\n+            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n+              <i class=\"bi bi-eye\"></i>\r\n+            </button>\r\n+            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n+              <i class=\"bi bi-pencil-square\"></i>\r\n+            </button>\r\n+            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n+              <i class=\"bi bi-trash\"></i>\r\n+            </button>\r\n+            <!-- Add print button if needed here or on detail page -->\r\n+            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n+              <i class=\"bi bi-printer\"></i>\r\n+            </button> -->\r\n+          </td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+    <!-- Add pagination controls here if you have many invoices -->\r\n+</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-meta\">\r\n+    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n+    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n+    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n+    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n+    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n+    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-lines\">\r\n+    <h2>Détails de la facture</h2>\r\n+    <table>\r\n+      <thead>\r\n+        <tr>\r\n+          <th>Description</th>\r\n+          <th>Quantité</th>\r\n+          <th>Prix Unitaire</th>\r\n+          <th>Total</th>\r\n+        </tr>\r\n+      </thead>\r\n+      <tbody>\r\n+        <tr *ngFor=\"let line of invoice.lines\">\r\n+          <td>{{ line.description }}</td>\r\n+          <td class=\"text-right\">{{ line.quantity }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n+          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n+        </tr>\r\n+      </tbody>\r\n+    </table>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-summary\">\r\n+    <div class=\"summary-item\">\r\n+      <span>Sous-total:</span>\r\n+      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n+      <span>Remise:</span>\r\n+      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n+      <span>Taxe :</span>\r\n+      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n+    </div>\r\n+    <div class=\"summary-item total\">\r\n+      <span>Total Général:</span>\r\n+      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n+    <h3>Notes:</h3>\r\n+    <p>{{ invoice.notes }}</p>\r\n+  </div>\r\n+</div>\r\n+\r\n+<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n+  Chargement de la facture...\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n+  <p>{{ errorMessage }}</p>\r\n+  <button (click)=\"goBack()\">Retour</button>\r\n+</div>\r\n+\r\n+<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n+  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n+</div>\r\n"
                },
                {
                    "date": 1747604683394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,72 +63,5 @@\n     <!-- Add pagination controls here if you have many invoices -->\r\n </div>\r\n   </div>\r\n \r\n-  <div class=\"invoice-meta\">\r\n-    <div><strong>Date de création:</strong> {{ formatDate(invoice.createdAt) }}</div>\r\n-    <div><strong>Statut:</strong> <span class=\"status\" [ngClass]=\"invoice.status.toLowerCase()\">{{ invoice.status }}</span></div>\r\n-    <div><strong>Client:</strong> {{ invoice.company.name }}</div>\r\n-    <div><strong>Adresse:</strong> {{ invoice.company.address }}</div>\r\n-    <div><strong>Email:</strong> {{ invoice.company.email }}</div>\r\n-    <div><strong>Téléphone:</strong> {{ invoice.company.phone }}</div>\r\n   </div>\r\n-\r\n-  <div class=\"invoice-lines\">\r\n-    <h2>Détails de la facture</h2>\r\n-    <table>\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Description</th>\r\n-          <th>Quantité</th>\r\n-          <th>Prix Unitaire</th>\r\n-          <th>Total</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr *ngFor=\"let line of invoice.lines\">\r\n-          <td>{{ line.description }}</td>\r\n-          <td class=\"text-right\">{{ line.quantity }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.unitPrice) }}</td>\r\n-          <td class=\"text-right\">{{ formatCurrency(line.total) }}</td>\r\n-        </tr>\r\n-      </tbody>\r\n-    </table>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-summary\">\r\n-    <div class=\"summary-item\">\r\n-      <span>Sous-total:</span>\r\n-      <span>{{ formatCurrency(invoice.subTotal) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.discount > 0\">\r\n-      <span>Remise:</span>\r\n-      <span>- {{ formatCurrency(invoice.discount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item\" *ngIf=\"invoice.taxAmount > 0\">\r\n-      <span>Taxe :</span>\r\n-      <span>{{ formatCurrency(invoice.taxAmount) }}</span>\r\n-    </div>\r\n-    <div class=\"summary-item total\">\r\n-      <span>Total Général:</span>\r\n-      <span>{{ formatCurrency(invoice.totalAmount) }}</span>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <div class=\"invoice-notes\" *ngIf=\"invoice.notes\">\r\n-    <h3>Notes:</h3>\r\n-    <p>{{ invoice.notes }}</p>\r\n-  </div>\r\n-</div>\r\n-\r\n-<div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-  Chargement de la facture...\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && errorMessage\" class=\"error-message\">\r\n-  <p>{{ errorMessage }}</p>\r\n-  <button (click)=\"goBack()\">Retour</button>\r\n-</div>\r\n-\r\n-<div *ngIf=\"!isLoading && !invoice && !errorMessage\" class=\"no-invoice\">\r\n-  <p>Aucune facture à afficher. Veuillez vérifier l'identifiant ou <a routerLink=\"/invoices/new\">créer une nouvelle facture</a>.</p>\r\n-</div>\r\n"
                },
                {
                    "date": 1747604690416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,8 @@\n           </td>\r\n         </tr>\r\n       </tbody>\r\n     </table>\r\n-    <!-- Add pagination controls here if you have many invoices -->\r\n+    \r\n </div>\r\n   </div>\r\n \r\n-  </div>\r\n"
                },
                {
                    "date": 1747853629375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,66 +1,116 @@\n <div class=\"invoice-list-container\">\r\n-  <div class=\"page-header\">\r\n-    <h1>Liste des Factures</h1>\r\n-    <button (click)=\"navigateToCreateInvoice()\" class=\"btn btn-primary\">\r\n-      <i class=\"bi bi-plus-circle\"></i> Créer une Facture\r\n+  <app-header [title]=\"'Liste des Factures'\"></app-header>\r\n+\r\n+  <!-- Header with search and actions -->\r\n+  <div class=\"header-actions\">\r\n+    <div class=\"search-bar\">\r\n+      <mat-icon class=\"search-icon\">search</mat-icon>\r\n+      <input type=\"text\" \r\n+             placeholder=\"Rechercher une facture...\" \r\n+             [(ngModel)]=\"searchQuery\" \r\n+             (input)=\"applyFilter()\" />\r\n+    </div>\r\n+\r\n+    <button mat-raised-button \r\n+            color=\"primary\" \r\n+            class=\"add-button\"\r\n+            (click)=\"navigateToCreateInvoice()\">\r\n+      <mat-icon>add</mat-icon>\r\n+      <span>Nouvelle Facture</span>\r\n     </button>\r\n   </div>\r\n \r\n-  <div *ngIf=\"isLoading\" class=\"loading-indicator\">\r\n-    Chargement des factures...\r\n+  <!-- Loading state -->\r\n+  <div *ngIf=\"isLoading\" class=\"loading-state\">\r\n+    <mat-spinner diameter=\"50\"></mat-spinner>\r\n+    <p>Chargement des factures...</p>\r\n   </div>\r\n \r\n-  <div *ngIf=\"errorMessage\" class=\"error-message\">\r\n+  <!-- Error state -->\r\n+  <div *ngIf=\"errorMessage && !isLoading\" class=\"error-state\">\r\n+    <mat-icon>error_outline</mat-icon>\r\n     <p>{{ errorMessage }}</p>\r\n-    <button (click)=\"loadInvoices()\" class=\"btn btn-secondary\">Réessayer</button>\r\n+    <button mat-stroked-button (click)=\"loadInvoices()\">Réessayer</button>\r\n   </div>\r\n \r\n-  <div *ngIf=\"!isLoading && !errorMessage && invoices.length === 0\" class=\"no-data\">\r\n-    <p>Aucune facture trouvée. Commencez par <a (click)=\"navigateToCreateInvoice()\">en créer une nouvelle</a>.</p>\r\n+  <!-- Empty state -->\r\n+  <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices.length === 0\" class=\"empty-state\">\r\n+    <mat-icon>receipt_long</mat-icon>\r\n+    <p>Aucune facture trouvée. Commencez par en créer une !</p>\r\n   </div>\r\n \r\n-  <div *ngIf=\"!isLoading && !errorMessage && invoices.length > 0\" class=\"invoices-table-container\">\r\n-    <table class=\"table table-striped table-hover\">\r\n-      <thead>\r\n-        <tr>\r\n-          <th>Numéro</th>\r\n-          <th>Client</th>\r\n-          <th>Date de Création</th>\r\n-          <th>Montant Total</th>\r\n-          <th>Statut</th>\r\n-          <th>Actions</th>\r\n-        </tr>\r\n-      </thead>\r\n-      <tbody>\r\n-        <tr *ngFor=\"let invoice of invoices\">\r\n-          <td>{{ invoice.documentNumber }}</td>\r\n-          <td>{{ invoice.company?.name || 'N/A' }}</td>\r\n-          <td>{{ formatDate(invoice.createdAt) }}</td> <!-- Or use Angular DatePipe: {{ invoice.createdAt | date:'dd/MM/yyyy' }} -->\r\n-          <td class=\"text-right\">{{ formatCurrency(invoice.totalAmount) }}</td> <!-- Or use Angular CurrencyPipe: {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }} -->\r\n-          <td>\r\n-            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-              {{ invoice.status }}\r\n-            </span>\r\n-          </td>\r\n-          <td>\r\n-            <button (click)=\"viewInvoice(invoice.id)\" class=\"btn btn-sm btn-info\" title=\"Voir\">\r\n-              <i class=\"bi bi-eye\"></i>\r\n-            </button>\r\n-            <button (click)=\"editInvoice(invoice.id)\" class=\"btn btn-sm btn-warning\" title=\"Modifier\">\r\n-              <i class=\"bi bi-pencil-square\"></i>\r\n-            </button>\r\n-            <button (click)=\"confirmDelete(invoice)\" class=\"btn btn-sm btn-danger\" title=\"Supprimer\">\r\n-              <i class=\"bi bi-trash\"></i>\r\n-            </button>\r\n-            <!-- Add print button if needed here or on detail page -->\r\n-            <!-- <button (click)=\"printInvoice(invoice.id)\" class=\"btn btn-sm btn-secondary\" title=\"Imprimer\">\r\n-              <i class=\"bi bi-printer\"></i>\r\n-            </button> -->\r\n-          </td>\r\n-        </tr>\r\n-      </tbody>\r\n+  <!-- Invoice table -->\r\n+  <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices.length > 0\" class=\"invoice-table-wrapper\">\r\n+    <table mat-table [dataSource]=\"filteredInvoices\" class=\"invoice-table mat-elevation-z2\">\r\n+      <!-- Document Number Column -->\r\n+      <ng-container matColumnDef=\"documentNumber\">\r\n+        <th mat-header-cell *matHeaderCellDef>N° Document</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.documentNumber }}</td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Client Column -->\r\n+      <ng-container matColumnDef=\"clientName\">\r\n+        <th mat-header-cell *matHeaderCellDef>Client</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.clientName || 'N/A' }}</td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Creation Date Column -->\r\n+      <ng-container matColumnDef=\"createdAt\">\r\n+        <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Due Date Column -->\r\n+      <ng-container matColumnDef=\"dueDate\">\r\n+        <th mat-header-cell *matHeaderCellDef>Date Échéance</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.dueDate | date:'dd/MM/yyyy' }}</td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Amount Column -->\r\n+      <ng-container matColumnDef=\"totalAmount\">\r\n+        <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">\r\n+          {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }}\r\n+        </td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Status Column -->\r\n+      <ng-container matColumnDef=\"status\">\r\n+        <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">\r\n+          <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n+            {{ invoice.status | lowercase }}\r\n+          </span>\r\n+        </td>\r\n+      </ng-container>\r\n+\r\n+      <!-- Actions Column -->\r\n+      <ng-container matColumnDef=\"actions\">\r\n+        <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n+        <td mat-cell *matCellDef=\"let invoice\">\r\n+          <button mat-icon-button \r\n+                  color=\"primary\" \r\n+                  (click)=\"viewInvoice(invoice.id)\" \r\n+                  title=\"Voir détails\">\r\n+            <mat-icon>visibility</mat-icon>\r\n+          </button>\r\n+          <button mat-icon-button \r\n+                  color=\"accent\" \r\n+                  (click)=\"editInvoice(invoice.id)\" \r\n+                  title=\"Modifier\">\r\n+            <mat-icon>edit</mat-icon>\r\n+          </button>\r\n+          <button mat-icon-button \r\n+                  color=\"warn\" \r\n+                  (click)=\"confirmDelete(invoice)\" \r\n+                  title=\"Supprimer\">\r\n+            <mat-icon>delete</mat-icon>\r\n+          </button>\r\n+        </td>\r\n+      </ng-container>\r\n+\r\n+      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n+      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n     </table>\r\n-    \r\n-</div>\r\n   </div>\r\n-\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747857748781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,116 +1,121 @@\n <div class=\"invoice-list-container\">\r\n   <app-header [title]=\"'Liste des Factures'\"></app-header>\r\n \r\n-  <!-- Header with search and actions -->\r\n-  <div class=\"header-actions\">\r\n-    <div class=\"search-bar\">\r\n+  <!-- Header Section -->\r\n+  <div class=\"invoice-list-header\">\r\n+    <!-- Search Bar -->\r\n+    <div class=\"search-container\">\r\n       <mat-icon class=\"search-icon\">search</mat-icon>\r\n-      <input type=\"text\" \r\n-             placeholder=\"Rechercher une facture...\" \r\n-             [(ngModel)]=\"searchQuery\" \r\n+      <input type=\"text\"\r\n+             placeholder=\"Rechercher une facture...\"\r\n+             [(ngModel)]=\"searchQuery\"\r\n              (input)=\"applyFilter()\" />\r\n     </div>\r\n \r\n-    <button mat-raised-button \r\n-            color=\"primary\" \r\n-            class=\"add-button\"\r\n-            (click)=\"navigateToCreateInvoice()\">\r\n-      <mat-icon>add</mat-icon>\r\n-      <span>Nouvelle Facture</span>\r\n-    </button>\r\n+    <!-- Actions: Add Invoice -->\r\n+    <div class=\"actions-container\">\r\n+      <button class=\"add-invoice-button action-button\"\r\n+              (click)=\"navigateToCreateInvoice()\">\r\n+        <mat-icon>add</mat-icon>\r\n+        <span>Nouvelle Facture</span>\r\n+      </button>\r\n+    </div>\r\n   </div>\r\n \r\n-  <!-- Loading state -->\r\n-  <div *ngIf=\"isLoading\" class=\"loading-state\">\r\n-    <mat-spinner diameter=\"50\"></mat-spinner>\r\n-    <p>Chargement des factures...</p>\r\n-  </div>\r\n+  <!-- Invoice Display Area -->\r\n+  <div class=\"invoice-display\">\r\n+    <!-- Loading state -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-state\">\r\n+      <mat-spinner diameter=\"50\"></mat-spinner>\r\n+      <p>Chargement des factures...</p>\r\n+    </div>\r\n \r\n-  <!-- Error state -->\r\n-  <div *ngIf=\"errorMessage && !isLoading\" class=\"error-state\">\r\n-    <mat-icon>error_outline</mat-icon>\r\n-    <p>{{ errorMessage }}</p>\r\n-    <button mat-stroked-button (click)=\"loadInvoices()\">Réessayer</button>\r\n-  </div>\r\n+    <!-- Error state -->\r\n+    <div *ngIf=\"errorMessage && !isLoading\" class=\"error-state\">\r\n+      <mat-icon>error_outline</mat-icon>\r\n+      <p>{{ errorMessage }}</p>\r\n+      <button mat-stroked-button (click)=\"loadInvoices()\">Réessayer</button>\r\n+    </div>\r\n \r\n-  <!-- Empty state -->\r\n-  <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices.length === 0\" class=\"empty-state\">\r\n-    <mat-icon>receipt_long</mat-icon>\r\n-    <p>Aucune facture trouvée. Commencez par en créer une !</p>\r\n-  </div>\r\n+    <!-- Empty state -->\r\n+    <div *ngIf=\"!isLoading && !errorMessage && (!filteredInvoices || filteredInvoices.length === 0)\" class=\"empty-state\">\r\n+      <mat-icon>receipt_long</mat-icon>\r\n+      <p>Aucune facture trouvée. Commencez par en créer une !</p>\r\n+    </div>\r\n \r\n-  <!-- Invoice table -->\r\n-  <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices.length > 0\" class=\"invoice-table-wrapper\">\r\n-    <table mat-table [dataSource]=\"filteredInvoices\" class=\"invoice-table mat-elevation-z2\">\r\n-      <!-- Document Number Column -->\r\n-      <ng-container matColumnDef=\"documentNumber\">\r\n-        <th mat-header-cell *matHeaderCellDef>N° Document</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.documentNumber }}</td>\r\n-      </ng-container>\r\n+    <!-- Invoice table -->\r\n+    <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices && filteredInvoices.length > 0\" class=\"invoice-table-card\">\r\n+      <table mat-table [dataSource]=\"filteredInvoices\" class=\"data-table\">\r\n+        <!-- Document Number Column -->\r\n+        <ng-container matColumnDef=\"documentNumber\">\r\n+          <th mat-header-cell *matHeaderCellDef>N° Document</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.documentNumber }}</td>\r\n+        </ng-container>\r\n \r\n-      <!-- Client Column -->\r\n-      <ng-container matColumnDef=\"clientName\">\r\n-        <th mat-header-cell *matHeaderCellDef>Client</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.clientName || 'N/A' }}</td>\r\n-      </ng-container>\r\n+        <!-- Client Column -->\r\n+        <ng-container matColumnDef=\"clientName\">\r\n+          <th mat-header-cell *matHeaderCellDef>Client</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.clientName || 'N/A' }}</td>\r\n+        </ng-container>\r\n \r\n-      <!-- Creation Date Column -->\r\n-      <ng-container matColumnDef=\"createdAt\">\r\n-        <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n-      </ng-container>\r\n+        <!-- Creation Date Column -->\r\n+        <ng-container matColumnDef=\"createdAt\">\r\n+          <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n+        </ng-container>\r\n \r\n-      <!-- Due Date Column -->\r\n-      <ng-container matColumnDef=\"dueDate\">\r\n-        <th mat-header-cell *matHeaderCellDef>Date Échéance</th>\r\n\\ No newline at end of file\n-        <td mat-cell *matCellDef=\"let invoice\">{{ invoice.dueDate | date:'dd/MM/yyyy' }}</td>\r\n-      </ng-container>\r\n+        <!-- Due Date Column -->\r\n+        <ng-container matColumnDef=\"dueDate\">\r\n+          <th mat-header-cell *matHeaderCellDef>Date Échéance</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.dueDate | date:'dd/MM/yyyy' }}</td>\r\n+        </ng-container>\r\n \r\n-      <!-- Amount Column -->\r\n-      <ng-container matColumnDef=\"totalAmount\">\r\n-        <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">\r\n-          {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }}\r\n-        </td>\r\n-      </ng-container>\r\n+        <!-- Amount Column -->\r\n+        <ng-container matColumnDef=\"totalAmount\">\r\n+          <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">\r\n+            {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }}\r\n+          </td>\r\n+        </ng-container>\r\n \r\n-      <!-- Status Column -->\r\n-      <ng-container matColumnDef=\"status\">\r\n-        <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">\r\n-          <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-            {{ invoice.status | lowercase }}\r\n-          </span>\r\n-        </td>\r\n-      </ng-container>\r\n+        <!-- Status Column -->\r\n+        <ng-container matColumnDef=\"status\">\r\n+          <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">\r\n+            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n+              {{ invoice.status | lowercase }}\r\n+            </span>\r\n+          </td>\r\n+        </ng-container>\r\n \r\n-      <!-- Actions Column -->\r\n-      <ng-container matColumnDef=\"actions\">\r\n-        <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n-        <td mat-cell *matCellDef=\"let invoice\">\r\n-          <button mat-icon-button \r\n-                  color=\"primary\" \r\n-                  (click)=\"viewInvoice(invoice.id)\" \r\n-                  title=\"Voir détails\">\r\n-            <mat-icon>visibility</mat-icon>\r\n-          </button>\r\n-          <button mat-icon-button \r\n-                  color=\"accent\" \r\n-                  (click)=\"editInvoice(invoice.id)\" \r\n-                  title=\"Modifier\">\r\n-            <mat-icon>edit</mat-icon>\r\n-          </button>\r\n-          <button mat-icon-button \r\n-                  color=\"warn\" \r\n-                  (click)=\"confirmDelete(invoice)\" \r\n-                  title=\"Supprimer\">\r\n-            <mat-icon>delete</mat-icon>\r\n-          </button>\r\n-        </td>\r\n-      </ng-container>\r\n+        <!-- Actions Column -->\r\n+        <ng-container matColumnDef=\"actions\">\r\n+          <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\" class=\"actions-cell\">\r\n+            <button mat-icon-button\r\n+                    class=\"view-btn\"\r\n+                    (click)=\"viewInvoice(invoice.id)\"\r\n+                    title=\"Voir détails\">\r\n+              <mat-icon>visibility</mat-icon>\r\n+            </button>\r\n+            <button mat-icon-button\r\n+                    class=\"edit-btn\"\r\n+                    (click)=\"editInvoice(invoice.id)\"\r\n+                    title=\"Modifier\">\r\n+              <mat-icon>edit</mat-icon>\r\n+            </button>\r\n+            <button mat-icon-button\r\n+                    class=\"delete-btn\"\r\n+                    (click)=\"confirmDelete(invoice)\"\r\n+                    title=\"Supprimer\">\r\n+              <mat-icon>delete</mat-icon>\r\n+            </button>\r\n+          </td>\r\n+        </ng-container>\r\n \r\n-      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n-      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n-    </table>\r\n+        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n+        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row.id)\" class=\"invoice-row\"></tr>\r\n+      </table>\r\n+    </div>\r\n   </div>\r\n-</div>\n+</div>\r\n"
                },
                {
                    "date": 1747858372917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -54,22 +54,17 @@\n \r\n         <!-- Client Column -->\r\n         <ng-container matColumnDef=\"clientName\">\r\n           <th mat-header-cell *matHeaderCellDef>Client</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.clientName || 'N/A' }}</td>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.client.name || 'N/A' }}</td>\r\n         </ng-container>\r\n \r\n         <!-- Creation Date Column -->\r\n         <ng-container matColumnDef=\"createdAt\">\r\n           <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n         </ng-container>\r\n \r\n-        <!-- Due Date Column -->\r\n-        <ng-container matColumnDef=\"dueDate\">\r\n-          <th mat-header-cell *matHeaderCellDef>Date Échéance</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.dueDate | date:'dd/MM/yyyy' }}</td>\r\n-        </ng-container>\r\n \r\n         <!-- Amount Column -->\r\n         <ng-container matColumnDef=\"totalAmount\">\r\n           <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n"
                },
                {
                    "date": 1747859221921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n         <!-- Amount Column -->\r\n         <ng-container matColumnDef=\"totalAmount\">\r\n           <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n-            {{ invoice.totalAmount | currency:'TND':'symbol':'1.2-2':'fr' }}\r\n+            {{ invoice.totalAmount | currency:'':'symbol':'1.2-2':'fr' }}\r\n           </td>\r\n         </ng-container>\r\n \r\n         <!-- Status Column -->\r\n"
                },
                {
                    "date": 1747859229412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,9 +68,9 @@\n         <!-- Amount Column -->\r\n         <ng-container matColumnDef=\"totalAmount\">\r\n           <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n-            {{ invoice.totalAmount | currency:'':'symbol':'1.2-2':'fr' }}\r\n+            {{ invoice.totalAmount  }} TND\r\n           </td>\r\n         </ng-container>\r\n \r\n         <!-- Status Column -->\r\n"
                },
                {
                    "date": 1747859247241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,9 @@\n         <ng-container matColumnDef=\"status\">\r\n           <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n             <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-              {{ invoice.status | lowercase }}\r\n+              {{ invoice.status }}\r\n             </span>\r\n           </td>\r\n         </ng-container>\r\n \r\n"
                },
                {
                    "date": 1747859298722,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,116 @@\n+<div class=\"invoice-list-container\">\r\n+  <app-header [title]=\"'Liste des Factures'\"></app-header>\r\n+\r\n+  <!-- Header Section -->\r\n+  <div class=\"invoice-list-header\">\r\n+    <!-- Search Bar -->\r\n+    <div class=\"search-container\">\r\n+      <mat-icon class=\"search-icon\">search</mat-icon>\r\n+      <input type=\"text\"\r\n+             placeholder=\"Rechercher une facture...\"\r\n+             [(ngModel)]=\"searchQuery\"\r\n+             (input)=\"applyFilter()\" />\r\n+    </div>\r\n+\r\n+    <!-- Actions: Add Invoice -->\r\n+    <div class=\"actions-container\">\r\n+      <button class=\"add-invoice-button action-button\"\r\n+              (click)=\"navigateToCreateInvoice()\">\r\n+        <mat-icon>add</mat-icon>\r\n+        <span>Nouvelle Facture</span>\r\n+      </button>\r\n+    </div>\r\n+  </div>\r\n+\r\n+  <!-- Invoice Display Area -->\r\n+  <div class=\"invoice-display\">\r\n+    <!-- Loading state -->\r\n+    <div *ngIf=\"isLoading\" class=\"loading-state\">\r\n+      <mat-spinner diameter=\"50\"></mat-spinner>\r\n+      <p>Chargement des factures...</p>\r\n+    </div>\r\n+\r\n+    <!-- Error state -->\r\n+    <div *ngIf=\"errorMessage && !isLoading\" class=\"error-state\">\r\n+      <mat-icon>error_outline</mat-icon>\r\n+      <p>{{ errorMessage }}</p>\r\n+      <button mat-stroked-button (click)=\"loadInvoices()\">Réessayer</button>\r\n+    </div>\r\n+\r\n+    <!-- Empty state -->\r\n+    <div *ngIf=\"!isLoading && !errorMessage && (!filteredInvoices || filteredInvoices.length === 0)\" class=\"empty-state\">\r\n+      <mat-icon>receipt_long</mat-icon>\r\n+      <p>Aucune facture trouvée. Commencez par en créer une !</p>\r\n+    </div>\r\n+\r\n+    <!-- Invoice table -->\r\n+    <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices && filteredInvoices.length > 0\" class=\"invoice-table-card\">\r\n+      <table mat-table [dataSource]=\"filteredInvoices\" class=\"data-table\">\r\n+        <!-- Document Number Column -->\r\n+        <ng-container matColumnDef=\"documentNumber\">\r\n+          <th mat-header-cell *matHeaderCellDef>N° Document</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.documentNumber }}</td>\r\n+        </ng-container>\r\n+\r\n+        <!-- Client Column -->\r\n+        <ng-container matColumnDef=\"clientName\">\r\n+          <th mat-header-cell *matHeaderCellDef>Client</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.client.name || 'N/A' }}</td>\r\n+        </ng-container>\r\n+\r\n+        <!-- Creation Date Column -->\r\n+        <ng-container matColumnDef=\"createdAt\">\r\n+          <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n+        </ng-container>\r\n+\r\n+\r\n+        <!-- Amount Column -->\r\n+        <ng-container matColumnDef=\"totalAmount\">\r\n+          <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">\r\n+            {{ invoice.totalAmount  }} TND\r\n+          </td>\r\n+        </ng-container>\r\n+\r\n+        <!-- Status Column -->\r\n+        <ng-container matColumnDef=\"status\">\r\n+          <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">\r\n+            <span class=\"status-badge\" >\r\n+              {{ invoice.status }}\r\n+            </span>\r\n+          </td>\r\n+        </ng-container>\r\n+\r\n+        <!-- Actions Column -->\r\n+        <ng-container matColumnDef=\"actions\">\r\n+          <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\" class=\"actions-cell\">\r\n+            <button mat-icon-button\r\n+                    class=\"view-btn\"\r\n+                    (click)=\"viewInvoice(invoice.id)\"\r\n+                    title=\"Voir détails\">\r\n+              <mat-icon>visibility</mat-icon>\r\n+            </button>\r\n+            <button mat-icon-button\r\n+                    class=\"edit-btn\"\r\n+                    (click)=\"editInvoice(invoice.id)\"\r\n+                    title=\"Modifier\">\r\n+              <mat-icon>edit</mat-icon>\r\n+            </button>\r\n+            <button mat-icon-button\r\n+                    class=\"delete-btn\"\r\n+                    (click)=\"confirmDelete(invoice)\"\r\n+                    title=\"Supprimer\">\r\n+              <mat-icon>delete</mat-icon>\r\n+            </button>\r\n+          </td>\r\n+        </ng-container>\r\n+\r\n+        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n+        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row.id)\" class=\"invoice-row\"></tr>\r\n+      </table>\r\n+    </div>\r\n+  </div>\r\n+</div>\r\n"
                },
                {
                    "date": 1747864570593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,11 +76,27 @@\n         <!-- Status Column -->\r\n         <ng-container matColumnDef=\"status\">\r\n           <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n-            <span class=\"status-badge\" >\r\n-              {{ invoice.status }}\r\n-            </span>\r\n+            <ng-container [ngSwitch]=\"invoice.status\">\r\n+              <span *ngSwitchCase=\"'UNPAID'\" class=\"invoice-status-badge status-unpaid\">\r\n+                <i class=\"bi bi-hourglass-split\"></i> {{ invoice.status | statusTranslator }}\r\n+              </span>\r\n+              <span *ngSwitchCase=\"'PAID'\" class=\"invoice-status-badge status-paid\">\r\n+                <i class=\"bi bi-check-circle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+              </span>\r\n+              <span *ngSwitchCase=\"'DRAFT'\" class=\"invoice-status-badge status-draft\">\r\n+                <i class=\"bi bi-pencil-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+              </span>\r\n+              <span *ngSwitchCase=\"'OVERDUE'\" class=\"invoice-status-badge status-overdue\">\r\n+                <i class=\"bi bi-exclamation-triangle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+              </span>\r\n+              <!-- Add more cases for other statuses like CANCELED, PARTIALLY_PAID, etc. -->\r\n+              <span *ngSwitchDefault class=\"invoice-status-badge status-default\">\r\n+                <!-- Optional: Icon for default/unknown status -->\r\n+                {{ invoice.status | statusTranslator }}\r\n+              </span>\r\n+            </ng-container>\r\n           </td>\r\n         </ng-container>\r\n \r\n         <!-- Actions Column -->\r\n@@ -113,120 +129,4 @@\n       </table>\r\n     </div>\r\n   </div>\r\n </div>\r\n-<div class=\"invoice-list-container\">\r\n-  <app-header [title]=\"'Liste des Factures'\"></app-header>\r\n-\r\n-  <!-- Header Section -->\r\n-  <div class=\"invoice-list-header\">\r\n-    <!-- Search Bar -->\r\n-    <div class=\"search-container\">\r\n-      <mat-icon class=\"search-icon\">search</mat-icon>\r\n-      <input type=\"text\"\r\n-             placeholder=\"Rechercher une facture...\"\r\n-             [(ngModel)]=\"searchQuery\"\r\n-             (input)=\"applyFilter()\" />\r\n-    </div>\r\n-\r\n-    <!-- Actions: Add Invoice -->\r\n-    <div class=\"actions-container\">\r\n-      <button class=\"add-invoice-button action-button\"\r\n-              (click)=\"navigateToCreateInvoice()\">\r\n-        <mat-icon>add</mat-icon>\r\n-        <span>Nouvelle Facture</span>\r\n-      </button>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <!-- Invoice Display Area -->\r\n-  <div class=\"invoice-display\">\r\n-    <!-- Loading state -->\r\n-    <div *ngIf=\"isLoading\" class=\"loading-state\">\r\n-      <mat-spinner diameter=\"50\"></mat-spinner>\r\n-      <p>Chargement des factures...</p>\r\n-    </div>\r\n-\r\n-    <!-- Error state -->\r\n-    <div *ngIf=\"errorMessage && !isLoading\" class=\"error-state\">\r\n-      <mat-icon>error_outline</mat-icon>\r\n-      <p>{{ errorMessage }}</p>\r\n-      <button mat-stroked-button (click)=\"loadInvoices()\">Réessayer</button>\r\n-    </div>\r\n-\r\n-    <!-- Empty state -->\r\n-    <div *ngIf=\"!isLoading && !errorMessage && (!filteredInvoices || filteredInvoices.length === 0)\" class=\"empty-state\">\r\n-      <mat-icon>receipt_long</mat-icon>\r\n-      <p>Aucune facture trouvée. Commencez par en créer une !</p>\r\n-    </div>\r\n-\r\n-    <!-- Invoice table -->\r\n-    <div *ngIf=\"!isLoading && !errorMessage && filteredInvoices && filteredInvoices.length > 0\" class=\"invoice-table-card\">\r\n-      <table mat-table [dataSource]=\"filteredInvoices\" class=\"data-table\">\r\n-        <!-- Document Number Column -->\r\n-        <ng-container matColumnDef=\"documentNumber\">\r\n-          <th mat-header-cell *matHeaderCellDef>N° Document</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.documentNumber }}</td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Client Column -->\r\n-        <ng-container matColumnDef=\"clientName\">\r\n-          <th mat-header-cell *matHeaderCellDef>Client</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.client.name || 'N/A' }}</td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Creation Date Column -->\r\n-        <ng-container matColumnDef=\"createdAt\">\r\n-          <th mat-header-cell *matHeaderCellDef>Date Création</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">{{ invoice.createdAt | date:'dd/MM/yyyy' }}</td>\r\n-        </ng-container>\r\n-\r\n-\r\n-        <!-- Amount Column -->\r\n-        <ng-container matColumnDef=\"totalAmount\">\r\n-          <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">\r\n-            {{ invoice.totalAmount  }} TND\r\n-          </td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Status Column -->\r\n-        <ng-container matColumnDef=\"status\">\r\n-          <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\">\r\n-            <span class=\"status-badge\" [ngClass]=\"getStatusClass(invoice.status)\">\r\n-              {{ invoice.status }}\r\n-            </span>\r\n-          </td>\r\n-        </ng-container>\r\n-\r\n-        <!-- Actions Column -->\r\n-        <ng-container matColumnDef=\"actions\">\r\n-          <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n-          <td mat-cell *matCellDef=\"let invoice\" class=\"actions-cell\">\r\n-            <button mat-icon-button\r\n-                    class=\"view-btn\"\r\n-                    (click)=\"viewInvoice(invoice.id)\"\r\n-                    title=\"Voir détails\">\r\n-              <mat-icon>visibility</mat-icon>\r\n-            </button>\r\n-            <button mat-icon-button\r\n-                    class=\"edit-btn\"\r\n-                    (click)=\"editInvoice(invoice.id)\"\r\n-                    title=\"Modifier\">\r\n-              <mat-icon>edit</mat-icon>\r\n-            </button>\r\n-            <button mat-icon-button\r\n-                    class=\"delete-btn\"\r\n-                    (click)=\"confirmDelete(invoice)\"\r\n-                    title=\"Supprimer\">\r\n-              <mat-icon>delete</mat-icon>\r\n-            </button>\r\n-          </td>\r\n-        </ng-container>\r\n-\r\n-        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n-        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"viewInvoice(row.id)\" class=\"invoice-row\"></tr>\r\n-      </table>\r\n-    </div>\r\n-  </div>\r\n-</div>\r\n"
                },
                {
                    "date": 1747864585492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n               <span *ngSwitchCase=\"'PAID'\" class=\"invoice-status-badge status-paid\">\r\n                 <i class=\"bi bi-check-circle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'DRAFT'\" class=\"invoice-status-badge status-draft\">\r\n-                <i class=\"bi bi-pencil-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+                <i class=\"bi bi-pencil-fill\"></i> {{ invoice.status  }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'OVERDUE'\" class=\"invoice-status-badge status-overdue\">\r\n                 <i class=\"bi bi-exclamation-triangle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n               </span>\r\n"
                },
                {
                    "date": 1747864591728,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,20 +81,20 @@\n               <span *ngSwitchCase=\"'UNPAID'\" class=\"invoice-status-badge status-unpaid\">\r\n                 <i class=\"bi bi-hourglass-split\"></i> {{ invoice.status | statusTranslator }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'PAID'\" class=\"invoice-status-badge status-paid\">\r\n-                <i class=\"bi bi-check-circle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+                <i class=\"bi bi-check-circle-fill\"></i> {{ invoice.status }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'DRAFT'\" class=\"invoice-status-badge status-draft\">\r\n                 <i class=\"bi bi-pencil-fill\"></i> {{ invoice.status  }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'OVERDUE'\" class=\"invoice-status-badge status-overdue\">\r\n-                <i class=\"bi bi-exclamation-triangle-fill\"></i> {{ invoice.status | statusTranslator }}\r\n+                <i class=\"bi bi-exclamation-triangle-fill\"></i> {{ invoice.status  }}\r\n               </span>\r\n               <!-- Add more cases for other statuses like CANCELED, PARTIALLY_PAID, etc. -->\r\n               <span *ngSwitchDefault class=\"invoice-status-badge status-default\">\r\n                 <!-- Optional: Icon for default/unknown status -->\r\n-                {{ invoice.status | statusTranslator }}\r\n+                {{ invoice.status  }}\r\n               </span>\r\n             </ng-container>\r\n           </td>\r\n         </ng-container>\r\n"
                },
                {
                    "date": 1747865025492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n           <th mat-header-cell *matHeaderCellDef>Statut</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n             <ng-container [ngSwitch]=\"invoice.status\">\r\n               <span *ngSwitchCase=\"'UNPAID'\" class=\"invoice-status-badge status-unpaid\">\r\n-                <i class=\"bi bi-hourglass-split\"></i> {{ invoice.status | statusTranslator }}\r\n+                <i class=\"bi bi-hourglass-split\"></i> {{ invoice.status  }}\r\n               </span>\r\n               <span *ngSwitchCase=\"'PAID'\" class=\"invoice-status-badge status-paid\">\r\n                 <i class=\"bi bi-check-circle-fill\"></i> {{ invoice.status }}\r\n               </span>\r\n@@ -98,8 +98,15 @@\n             </ng-container>\r\n           </td>\r\n         </ng-container>\r\n \r\n+        <!-- Amount Column -->\r\n+        <ng-container matColumnDef=\"totalAmount\">\r\n+          <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n+          <td mat-cell *matCellDef=\"let invoice\">\r\n+            {{ invoice.totalAmount  }} TND\r\n+          </td>\r\n+        </ng-container>\r\n         <!-- Actions Column -->\r\n         <ng-container matColumnDef=\"actions\">\r\n           <th mat-header-cell *matHeaderCellDef>Actions</th>\r\n           <td mat-cell *matCellDef=\"let invoice\" class=\"actions-cell\">\r\n"
                },
                {
                    "date": 1747865031441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n             </ng-container>\r\n           </td>\r\n         </ng-container>\r\n \r\n-        <!-- Amount Column -->\r\n+        <!-- type Column -->\r\n         <ng-container matColumnDef=\"totalAmount\">\r\n           <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n             {{ invoice.totalAmount  }} TND\r\n"
                },
                {
                    "date": 1747865059144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n           </td>\r\n         </ng-container>\r\n \r\n         <!-- type Column -->\r\n-        <ng-container matColumnDef=\"totalAmount\">\r\n+        <ng-container matColumnDef=\"documentType\">\r\n           <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n             {{ invoice.totalAmount  }} TND\r\n           </td>\r\n"
                },
                {
                    "date": 1747865068686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,11 +100,11 @@\n         </ng-container>\r\n \r\n         <!-- type Column -->\r\n         <ng-container matColumnDef=\"documentType\">\r\n-          <th mat-header-cell *matHeaderCellDef>Montant Total</th>\r\n+          <th mat-header-cell *matHeaderCellDef>documentType</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n-            {{ invoice.totalAmount  }} TND\r\n+            {{ invoice.documentType  }} TND\r\n           </td>\r\n         </ng-container>\r\n         <!-- Actions Column -->\r\n         <ng-container matColumnDef=\"actions\">\r\n"
                },
                {
                    "date": 1747865075375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,11 +100,11 @@\n         </ng-container>\r\n \r\n         <!-- type Column -->\r\n         <ng-container matColumnDef=\"documentType\">\r\n-          <th mat-header-cell *matHeaderCellDef>documentType</th>\r\n+          <th mat-header-cell *matHeaderCellDef>Type</th>\r\n           <td mat-cell *matCellDef=\"let invoice\">\r\n-            {{ invoice.documentType  }} TND\r\n+            {{ invoice.documentType  }}\r\n           </td>\r\n         </ng-container>\r\n         <!-- Actions Column -->\r\n         <ng-container matColumnDef=\"actions\">\r\n"
                }
            ],
            "date": 1747603575907,
            "name": "Commit-0",
            "content": "<!-- invoice-list.component.html -->\r\n<h2>Invoices</h2>\r\n<button (click)=\"navigateToCreateInvoice()\">Create New Invoice</button>\r\n\r\n<table>\r\n  <thead>\r\n    <tr>\r\n      <th>Document #</th>\r\n      <th>Company</th>\r\n      <th>Created At</th>\r\n      <th>Total</th>\r\n      <th>Status</th>\r\n      <th>Actions</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let invoice of invoices\">\r\n      <td>{{ invoice.documentNumber }}</td>\r\n      <td>{{ invoice.company?.name }}</td>\r\n      <td>{{ invoice.createdAt | date:'short' }}</td> <!-- Use DatePipe -->\r\n      <td>{{ invoice.totalAmount | currency:'EUR' }}</td> <!-- Use CurrencyPipe -->\r\n      <td>{{ invoice.status }}</td>\r\n      <td>\r\n        <button (click)=\"viewInvoice(invoice.id)\">View</button>\r\n        <button (click)=\"editInvoice(invoice.id)\">Edit</button>\r\n        <button (click)=\"confirmDelete(invoice.id)\">Delete</button>\r\n        <button (click)=\"printInvoice(invoice.id)\">Print</button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<p *ngIf=\"!invoices || invoices.length === 0\">No invoices found.</p>\r\n"
        }
    ]
}