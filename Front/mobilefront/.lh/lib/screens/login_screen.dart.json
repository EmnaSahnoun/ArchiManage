{
    "sourceFile": "lib/screens/login_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1744646262342,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744646673902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'package:flutter/material.dart';\r\n import 'main_screen.dart';\r\n+import '../constants/colors.dart';\r\n \r\n class LoginScreen extends StatefulWidget {\r\n   const LoginScreen({super.key});\r\n \r\n@@ -11,154 +12,233 @@\n class _LoginScreenState extends State<LoginScreen> {\r\n   final _formKey = GlobalKey<FormState>();\r\n   final _emailController = TextEditingController();\r\n   final _passwordController = TextEditingController();\r\n+  bool _isLoading = false;\r\n \r\n   @override\r\n   void dispose() {\r\n     _emailController.dispose();\r\n     _passwordController.dispose();\r\n     super.dispose();\r\n   }\r\n \r\n-  void _onLogin() {\r\n+  Future<void> _onLogin() async {\r\n     if (_formKey.currentState!.validate()) {\r\n-      Navigator.pushReplacement(\r\n-        context,\r\n-        MaterialPageRoute(builder: (context) => const MainScreen()),\r\n-      );\r\n+      setState(() => _isLoading = true);\r\n+      \r\n+      // Simulation de l'authentification\r\n+      await Future.delayed(const Duration(seconds: 1));\r\n+      \r\n+      if (mounted) {\r\n+        setState(() => _isLoading = false);\r\n+        Navigator.pushReplacement(\r\n+          context,\r\n+          MaterialPageRoute(builder: (context) => const MainScreen()),\r\n+        );\r\n+      }\r\n     }\r\n   }\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n+    final screenWidth = MediaQuery.of(context).size.width;\r\n+\r\n     return Scaffold(\r\n-      backgroundColor: const Color(0xFFF1F1F1),\r\n+      backgroundColor: AppColors.screenBg,\r\n       body: Center(\r\n-        child: Container(\r\n-          constraints: const BoxConstraints(maxWidth: 800),\r\n-          margin: const EdgeInsets.all(20),\r\n-          child: Card(\r\n-            shape: RoundedRectangleBorder(\r\n-              borderRadius: BorderRadius.circular(15),\r\n+        child: SingleChildScrollView(\r\n+          child: Container(\r\n+            constraints: const BoxConstraints(maxWidth: 800),\r\n+            margin: const EdgeInsets.all(20),\r\n+            child: Card(\r\n+              color: AppColors.primary,\r\n+              shape: RoundedRectangleBorder(\r\n+                borderRadius: BorderRadius.circular(15),\r\n+              ),\r\n+              elevation: 4,\r\n+              child: Padding(\r\n+                padding: const EdgeInsets.all(20),\r\n+                child: screenWidth > 600\r\n+                    ? _buildDesktopLayout()\r\n+                    : _buildMobileLayout(),\r\n+              ),\r\n             ),\r\n-            elevation: 4,\r\n-            child: Padding(\r\n-              padding: const EdgeInsets.all(20),\r\n-              child: Row(\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildDesktopLayout() {\r\n+    return Row(\r\n+      children: [\r\n+        // Illustration (partie gauche)\r\n+        Expanded(\r\n+          flex: 1,\r\n+          child: Container(\r\n+            padding: const EdgeInsets.all(20),\r\n+            child: Icon(\r\n+              Icons.lock_person,\r\n+              size: 200,\r\n+              color: AppColors.text,\r\n+            ),\r\n+            // Pour utiliser une image à la place:\r\n+            // child: Image.asset(\r\n+            //   'assets/images/login-illustration.png',\r\n+            //   fit: BoxFit.contain,\r\n+            // ),\r\n+          ),\r\n+        ),\r\n+        const SizedBox(width: 20),\r\n+        // Formulaire (partie droite)\r\n+        Expanded(\r\n+          flex: 1,\r\n+          child: _buildLoginForm(),\r\n+        ),\r\n+      ],\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildMobileLayout() {\r\n+    return Column(\r\n+      children: [\r\n+        // Illustration (en haut)\r\n+        Container(\r\n+          padding: const EdgeInsets.all(20),\r\n+          child: Icon(\r\n+            Icons.lock_person,\r\n+            size: 120,\r\n+            color: AppColors.text,\r\n+          ),\r\n+        ),\r\n+        const SizedBox(height: 20),\r\n+        // Formulaire (en bas)\r\n+        _buildLoginForm(),\r\n+      ],\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildLoginForm() {\r\n+    return Form(\r\n+      key: _formKey,\r\n+      child: Column(\r\n+        mainAxisSize: MainAxisSize.min,\r\n+        children: [\r\n+          Text(\r\n+            'CONNEXION',\r\n+            style: TextStyle(\r\n+              fontSize: 24,\r\n+              fontWeight: FontWeight.bold,\r\n+              color: AppColors.text,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          TextFormField(\r\n+            controller: _emailController,\r\n+            keyboardType: TextInputType.emailAddress,\r\n+            decoration: InputDecoration(\r\n+              hintText: 'Email',\r\n+              filled: true,\r\n+              fillColor: AppColors.inputBg,\r\n+              border: OutlineInputBorder(\r\n+                borderRadius: BorderRadius.circular(35),\r\n+                borderSide: BorderSide.none,\r\n+              ),\r\n+              contentPadding: const EdgeInsets.symmetric(\r\n+                horizontal: 20,\r\n+                vertical: 15,\r\n+              ),\r\n+              prefixIcon: const Icon(Icons.email),\r\n+            ),\r\n+            validator: (value) {\r\n+              if (value == null || value.isEmpty) {\r\n+                return 'Veuillez entrer un email';\r\n+              }\r\n+              if (!value.contains('@')) {\r\n+                return 'Email invalide';\r\n+              }\r\n+              return null;\r\n+            },\r\n+          ),\r\n+          const SizedBox(height: 15),\r\n+          TextFormField(\r\n+            controller: _passwordController,\r\n+            obscureText: true,\r\n+            decoration: InputDecoration(\r\n+              hintText: 'Mot de passe',\r\n+              filled: true,\r\n+              fillColor: AppColors.inputBg,\r\n+              border: OutlineInputBorder(\r\n+                borderRadius: BorderRadius.circular(35),\r\n+                borderSide: BorderSide.none,\r\n+              ),\r\n+              contentPadding: const EdgeInsets.symmetric(\r\n+                horizontal: 20,\r\n+                vertical: 15,\r\n+              ),\r\n+              prefixIcon: const Icon(Icons.lock),\r\n+            ),\r\n+            validator: (value) {\r\n+              if (value == null || value.isEmpty) {\r\n+                return 'Veuillez entrer un mot de passe';\r\n+              }\r\n+              if (value.length < 6) {\r\n+                return 'Le mot de passe doit faire au moins 6 caractères';\r\n+              }\r\n+              return null;\r\n+            },\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          SizedBox(\r\n+            width: double.infinity,\r\n+            child: ElevatedButton(\r\n+              onPressed: _isLoading ? null : _onLogin,\r\n+              style: ElevatedButton.styleFrom(\r\n+                backgroundColor: AppColors.secondary,\r\n+                foregroundColor: Colors.white,\r\n+                shape: RoundedRectangleBorder(\r\n+                  borderRadius: BorderRadius.circular(35),\r\n+                ),\r\n+                padding: const EdgeInsets.symmetric(vertical: 15),\r\n+                elevation: 2,\r\n+              ),\r\n+              child: _isLoading\r\n+                  ? const CircularProgressIndicator(color: Colors.white)\r\n+                  : const Text(\r\n+                      'SE CONNECTER',\r\n+                      style: TextStyle(\r\n+                        fontWeight: FontWeight.bold,\r\n+                        fontSize: 16,\r\n+                      ),\r\n+                    ),\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 15),\r\n+          TextButton(\r\n+            onPressed: () {\r\n+              // Navigator.push(\r\n+              //   context,\r\n+              //   MaterialPageRoute(builder: (context) => const SignupScreen()),\r\n+              // );\r\n+            },\r\n+            child: RichText(\r\n+              text: TextSpan(\r\n+                text: 'Pas encore de compte ? ',\r\n+                style: TextStyle(color: AppColors.text),\r\n                 children: [\r\n-                  // Illustration (remplacé par une icône pour l'exemple)\r\n-                  Expanded(\r\n-                    child: Icon(\r\n-                      Icons.security,\r\n-                      size: 200,\r\n-                      color: const Color(0xFF3D5653),\r\n+                  TextSpan(\r\n+                    text: 'Inscrivez-vous !',\r\n+                    style: TextStyle(\r\n+                      color: AppColors.secondary,\r\n+                      fontWeight: FontWeight.bold,\r\n                     ),\r\n                   ),\r\n-                  const SizedBox(width: 20),\r\n-                  // Formulaire de connexion\r\n-                  Expanded(\r\n-                    child: Form(\r\n-                      key: _formKey,\r\n-                      child: Column(\r\n-                        mainAxisSize: MainAxisSize.min,\r\n-                        children: [\r\n-                          const Text(\r\n-                            'CONNEXION',\r\n-                            style: TextStyle(\r\n-                              fontSize: 24,\r\n-                              fontWeight: FontWeight.bold,\r\n-                              color: Color(0xFF3D5653),\r\n-                          ),\r\n-                          const SizedBox(height: 20),\r\n-                          TextFormField(\r\n-                            controller: _emailController,\r\n-                            decoration: InputDecoration(\r\n-                              hintText: 'Email',\r\n-                              filled: true,\r\n-                              fillColor: const Color(0xFFF4F4F4),\r\n-                              border: OutlineInputBorder(\r\n-                                borderRadius: BorderRadius.circular(35),\r\n-                                borderSide: BorderSide.none,\r\n-                              ),\r\n-                              contentPadding: const EdgeInsets.symmetric(\r\n-                                horizontal: 20, vertical: 15),\r\n-                            ),\r\n-                            validator: (value) {\r\n-                              if (value == null || value.isEmpty) {\r\n-                                return 'Veuillez entrer un email';\r\n-                              }\r\n-                              return null;\r\n-                            },\r\n-                          ),\r\n-                          const SizedBox(height: 10),\r\n-                          TextFormField(\r\n-                            controller: _passwordController,\r\n-                            obscureText: true,\r\n-                            decoration: InputDecoration(\r\n-                              hintText: 'Mot de passe',\r\n-                              filled: true,\r\n-                              fillColor: const Color(0xFFF4F4F4),\r\n-                              border: OutlineInputBorder(\r\n-                                borderRadius: BorderRadius.circular(35),\r\n-                                borderSide: BorderSide.none,\r\n-                              ),\r\n-                              contentPadding: const EdgeInsets.symmetric(\r\n-                                horizontal: 20, vertical: 15),\r\n-                            ),\r\n-                            validator: (value) {\r\n-                              if (value == null || value.isEmpty) {\r\n-                                return 'Veuillez entrer un mot de passe';\r\n-                              }\r\n-                              return null;\r\n-                            },\r\n-                          ),\r\n-                          const SizedBox(height: 20),\r\n-                          ElevatedButton(\r\n-                            onPressed: _onLogin,\r\n-                            style: ElevatedButton.styleFrom(\r\n-                              backgroundColor: const Color(0xFFE27D60),\r\n-                              shape: RoundedRectangleBorder(\r\n-                                borderRadius: BorderRadius.circular(35)),\r\n-                              padding: const EdgeInsets.symmetric(\r\n-                                horizontal: 40, vertical: 15),\r\n-                            ),\r\n-                            child: const Text(\r\n-                              'Se connecter',\r\n-                              style: TextStyle(\r\n-                                color: Colors.white,\r\n-                                fontWeight: FontWeight.bold),\r\n-                            ),\r\n-                          ),\r\n-                          const SizedBox(height: 10),\r\n-                          TextButton(\r\n-                            onPressed: () {\r\n-                              // Navigation vers l'écran d'inscription\r\n-                            },\r\n-                            child: RichText(\r\n-                              text: const TextSpan(\r\n-                                text: 'Pas encore de compte ? ',\r\n-                                style: TextStyle(color: Color(0xFF3D5653)),\r\n-                                children: [\r\n-                                  TextSpan(\r\n-                                    text: 'Inscrivez-vous !',\r\n-                                    style: TextStyle(\r\n-                                      color: Color(0xFFE27D60),\r\n-                                      fontWeight: FontWeight.bold),\r\n-                                  ),\r\n-                                ],\r\n-                              ),\r\n-                            ),\r\n-                          ),\r\n-                        ],\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n                 ],\r\n               ),\r\n             ),\r\n           ),\r\n-        ),\r\n+        ],\r\n       ),\r\n     );\r\n   }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1745535992910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import 'package:flutter/material.dart';\r\n import 'main_screen.dart';\r\n-import '../constants/colors.dart';\r\n+import '../core/constants/colors.dart';\r\n \r\n class LoginScreen extends StatefulWidget {\r\n   const LoginScreen({super.key});\r\n \r\n"
                }
            ],
            "date": 1744646262342,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'main_screen.dart';\r\n\r\nclass LoginScreen extends StatefulWidget {\r\n  const LoginScreen({super.key});\r\n\r\n  @override\r\n  State<LoginScreen> createState() => _LoginScreenState();\r\n}\r\n\r\nclass _LoginScreenState extends State<LoginScreen> {\r\n  final _formKey = GlobalKey<FormState>();\r\n  final _emailController = TextEditingController();\r\n  final _passwordController = TextEditingController();\r\n\r\n  @override\r\n  void dispose() {\r\n    _emailController.dispose();\r\n    _passwordController.dispose();\r\n    super.dispose();\r\n  }\r\n\r\n  void _onLogin() {\r\n    if (_formKey.currentState!.validate()) {\r\n      Navigator.pushReplacement(\r\n        context,\r\n        MaterialPageRoute(builder: (context) => const MainScreen()),\r\n      );\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n      backgroundColor: const Color(0xFFF1F1F1),\r\n      body: Center(\r\n        child: Container(\r\n          constraints: const BoxConstraints(maxWidth: 800),\r\n          margin: const EdgeInsets.all(20),\r\n          child: Card(\r\n            shape: RoundedRectangleBorder(\r\n              borderRadius: BorderRadius.circular(15),\r\n            ),\r\n            elevation: 4,\r\n            child: Padding(\r\n              padding: const EdgeInsets.all(20),\r\n              child: Row(\r\n                children: [\r\n                  // Illustration (remplacé par une icône pour l'exemple)\r\n                  Expanded(\r\n                    child: Icon(\r\n                      Icons.security,\r\n                      size: 200,\r\n                      color: const Color(0xFF3D5653),\r\n                    ),\r\n                  ),\r\n                  const SizedBox(width: 20),\r\n                  // Formulaire de connexion\r\n                  Expanded(\r\n                    child: Form(\r\n                      key: _formKey,\r\n                      child: Column(\r\n                        mainAxisSize: MainAxisSize.min,\r\n                        children: [\r\n                          const Text(\r\n                            'CONNEXION',\r\n                            style: TextStyle(\r\n                              fontSize: 24,\r\n                              fontWeight: FontWeight.bold,\r\n                              color: Color(0xFF3D5653),\r\n                          ),\r\n                          const SizedBox(height: 20),\r\n                          TextFormField(\r\n                            controller: _emailController,\r\n                            decoration: InputDecoration(\r\n                              hintText: 'Email',\r\n                              filled: true,\r\n                              fillColor: const Color(0xFFF4F4F4),\r\n                              border: OutlineInputBorder(\r\n                                borderRadius: BorderRadius.circular(35),\r\n                                borderSide: BorderSide.none,\r\n                              ),\r\n                              contentPadding: const EdgeInsets.symmetric(\r\n                                horizontal: 20, vertical: 15),\r\n                            ),\r\n                            validator: (value) {\r\n                              if (value == null || value.isEmpty) {\r\n                                return 'Veuillez entrer un email';\r\n                              }\r\n                              return null;\r\n                            },\r\n                          ),\r\n                          const SizedBox(height: 10),\r\n                          TextFormField(\r\n                            controller: _passwordController,\r\n                            obscureText: true,\r\n                            decoration: InputDecoration(\r\n                              hintText: 'Mot de passe',\r\n                              filled: true,\r\n                              fillColor: const Color(0xFFF4F4F4),\r\n                              border: OutlineInputBorder(\r\n                                borderRadius: BorderRadius.circular(35),\r\n                                borderSide: BorderSide.none,\r\n                              ),\r\n                              contentPadding: const EdgeInsets.symmetric(\r\n                                horizontal: 20, vertical: 15),\r\n                            ),\r\n                            validator: (value) {\r\n                              if (value == null || value.isEmpty) {\r\n                                return 'Veuillez entrer un mot de passe';\r\n                              }\r\n                              return null;\r\n                            },\r\n                          ),\r\n                          const SizedBox(height: 20),\r\n                          ElevatedButton(\r\n                            onPressed: _onLogin,\r\n                            style: ElevatedButton.styleFrom(\r\n                              backgroundColor: const Color(0xFFE27D60),\r\n                              shape: RoundedRectangleBorder(\r\n                                borderRadius: BorderRadius.circular(35)),\r\n                              padding: const EdgeInsets.symmetric(\r\n                                horizontal: 40, vertical: 15),\r\n                            ),\r\n                            child: const Text(\r\n                              'Se connecter',\r\n                              style: TextStyle(\r\n                                color: Colors.white,\r\n                                fontWeight: FontWeight.bold),\r\n                            ),\r\n                          ),\r\n                          const SizedBox(height: 10),\r\n                          TextButton(\r\n                            onPressed: () {\r\n                              // Navigation vers l'écran d'inscription\r\n                            },\r\n                            child: RichText(\r\n                              text: const TextSpan(\r\n                                text: 'Pas encore de compte ? ',\r\n                                style: TextStyle(color: Color(0xFF3D5653)),\r\n                                children: [\r\n                                  TextSpan(\r\n                                    text: 'Inscrivez-vous !',\r\n                                    style: TextStyle(\r\n                                      color: Color(0xFFE27D60),\r\n                                      fontWeight: FontWeight.bold),\r\n                                  ),\r\n                                ],\r\n                              ),\r\n                            ),\r\n                          ),\r\n                        ],\r\n                      ),\r\n                    ),\r\n                  ),\r\n                ],\r\n              ),\r\n            ),\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}"
        }
    ]
}